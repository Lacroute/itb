<!doctype html>
<!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ -->
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!-- Consider adding a manifest.appcache: h5bp.com/d/Offline -->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
  <meta charset="utf-8">

  <!-- Use the .htaccess and remove these lines to avoid edge case issues.
       More info: h5bp.com/i/378 -->
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <title></title>
  <meta name="description" content="">

  <!-- Mobile viewport optimized: h5bp.com/viewport -->
  <meta name="viewport" content="width=device-width">

  <link href='http://fonts.googleapis.com/css?family=Arvo:400,700,400italic,700italic' rel='stylesheet' type='text/css'>

  <!-- Place favicon.ico and apple-touch-icon.png in the root directory: mathiasbynens.be/notes/touch-icons -->

  <link rel="stylesheet" href="/itb/public/css/style.css">

  <!-- More ideas for your <head> here: h5bp.com/d/head-Tips -->

  <!-- All JavaScript at the bottom, except this Modernizr build.
       Modernizr enables HTML5 elements & feature detects for optimal performance.
       Create your own custom Modernizr build: www.modernizr.com/download/ -->
  <script src="/itb/public/js/modernizr-2.6.2.min.js"></script>
</head>
<body>
  <!-- Prompt IE 6 users to install Chrome Frame. Remove this if you support IE 6.
       chromium.org/developers/how-tos/chrome-frame-getting-started -->
  <!--[if lt IE 7]><p class=chromeframe>Your browser is <em>ancient!</em> <a href="http://browsehappy.com/">Upgrade to a different browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to experience this site.</p><![endif]-->
  <header>

  </header>
  <div role="main">
    <aside>
      <div>
        <h1><a href=""><img src="/itb/public/images/logo.png" width="150"></a></h1>
          
        <form id="itbSearch" action="" method="POST"><input type="search" name="baseWord" placeholder="Entrez votre mot ici"></form>
      </div>
      <nav>
        <a href="#column1"><span></span>Synonymes<span>Using Thesaurus</span></a>
        <a class="twitter" href="#column2"><span></span>Twitter<span>Using Twitter</span></a>
        <a href="#column3"><span></span>Viméo<span>Using Viméo</span></a>
        <a href="#column4"><span></span>Pinterest<span>Using Pinterest</span></a>
        <a href="#column5"><span></span>Dribbble<span>Using Dribbble</span></a>
        <a href="#column6"><span></span>News<span>Using News</span></a>
        
      </nav>
    </aside>
    <section>

      <article id="column1">
        <div class="color"></div>
        <div class="wrapper">
          <h2>Synonymes</h2>
          <p>Loin, très loin, au delà des monts Mots, à mille lieues des pays Voyellie et Consonnia, demeurent les Bolos Bolos. Ils vivent en retrait, à Bourg-en-Lettres, sur les côtes de la Sémantique, un vaste océan de langues. Un petit ruisseau, du nom de Larousse, coule en leur lieu et les approvisionne en règlalades nécessaires en tout genre; un pays paradisiagmatique, dans lequel des pans entiers de phrases prémâchées vous volent litéralement tout cuit dans la bouche.</p>
          <div class="data">
            <img src="http://placehold.it/200x148">
            <ul>
              <li id="nbSynonymsResults"></li>
            </ul>
          </div>
          <div class="sep"></div>
          <div id="synonymsResults">
          </div>
        </div>
      </article>

      <article id="column2">
        <div class="color"></div>
        <div class="wrapper">
          <h2>Twitter</h2>
          <p>Loin, très loin, au delà des monts Mots, à mille lieues des pays Voyellie et Consonnia, demeurent les Bolos Bolos. Ils vivent en retrait, à Bourg-en-Lettres, sur les côtes de la Sémantique, un vaste océan de langues. Un petit ruisseau, du nom de Larousse, coule en leur lieu et les approvisionne en règlalades nécessaires en tout genre; un pays paradisiagmatique, dans lequel des pans entiers de phrases prémâchées vous volent litéralement tout cuit dans la bouche.</p>
          <div class="data">
            <img src="http://placehold.it/200x148">
            <ul>
              <li id="nbTwitterResults"></li>
            </ul>
          </div>
          <div class="sep"></div>
          <div id="twitterResults">
          </div>
        </div>
      </article>

      <article id="column3">
        <div class="color"></div>
        <div class="wrapper">
          <h2>viméo</h2>
          <p>Loin, très loin, au delà des monts Mots, à mille lieues des pays Voyellie et Consonnia, demeurent les Bolos Bolos. Ils vivent en retrait, à Bourg-en-Lettres, sur les côtes de la Sémantique, un vaste océan de langues. Un petit ruisseau, du nom de Larousse, coule en leur lieu et les approvisionne en règlalades nécessaires en tout genre; un pays paradisiagmatique, dans lequel des pans entiers de phrases prémâchées vous volent litéralement tout cuit dans la bouche.</p>
          <div class="data">
            <img src="http://placehold.it/200x148">
            <ul>
              <li id="nbVimeoResults"></li>
            </ul>
          </div>
          <div class="sep"></div>
          <div id="vimeoResults">
          </div>
        </div>
      </article>

      <article id="column4">
        <div class="color"></div>
        <div class="wrapper">
          <h2>Pinterest</h2>
          <p>Loin, très loin, au delà des monts Mots, à mille lieues des pays Voyellie et Consonnia, demeurent les Bolos Bolos. Ils vivent en retrait, à Bourg-en-Lettres, sur les côtes de la Sémantique, un vaste océan de langues. Un petit ruisseau, du nom de Larousse, coule en leur lieu et les approvisionne en règlalades nécessaires en tout genre; un pays paradisiagmatique, dans lequel des pans entiers de phrases prémâchées vous volent litéralement tout cuit dans la bouche.</p>
          <div class="data">
            <img src="http://placehold.it/200x148">
            <ul>
              <li id="nbPinterestResults"></li>
            </ul>
          </div>
          <div class="sep"></div>
          <div id="pinterestResults" class="columns">
          </div>
        </div>
      </article>

      <article id="column5">
        <div class="color"></div>
        <div class="wrapper">
          <h2>Dribbble</h2>
          <p>Loin, très loin, au delà des monts Mots, à mille lieues des pays Voyellie et Consonnia, demeurent les Bolos Bolos. Ils vivent en retrait, à Bourg-en-Lettres, sur les côtes de la Sémantique, un vaste océan de langues. Un petit ruisseau, du nom de Larousse, coule en leur lieu et les approvisionne en règlalades nécessaires en tout genre; un pays paradisiagmatique, dans lequel des pans entiers de phrases prémâchées vous volent litéralement tout cuit dans la bouche.</p>
          <div class="data">
            <img src="http://placehold.it/200x148">
            <ul>
              <li id="nbDribbbleResults"></li>
            </ul>
          </div>
          <div class="sep"></div>
          <div id="dribbbleResults" class="columns">
          </div>
        </div>
      </article>

      <article id="column6" class="big ">
        <div class="color"></div>
        <div class="wrapper">
          <h2>News</h2>
          <p>Loin, très loin, au delà des monts Mots, à mille lieues des pays Voyellie et Consonnia, demeurent les Bolos Bolos. Ils vivent en retrait, à Bourg-en-Lettres, sur les côtes de la Sémantique, un vaste océan de langues. Un petit ruisseau, du nom de Larousse, coule en leur lieu et les approvisionne en règlalades nécessaires en tout genre; un pays paradisiagmatique, dans lequel des pans entiers de phrases prémâchées vous volent litéralement tout cuit dans la bouche.</p>
          <div class="data">
            <img src="http://placehold.it/200x148">
            <ul>
              <li id="nbNewsResults"></li>
            </ul>
          </div>
          <div class="sep"></div>
          <div id="newsResults">
          </div>
        </div>
      </article>
      
      <div class="clear"></div>

    </section>
  </div>
  <footer>

 </footer>


  <!-- JavaScript at the bottom for fast page loading -->

  <!-- Grab Google CDN's jQuery, with a protocol relative URL; fall back to local if offline -->
  <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
  <script>window.jQuery || document.write('<script src="js/libs/jquery-1.7.1.min.js"><\/script>')</script>

  <!-- scripts concatenated and minified via build script -->
  <script src="/itb/public/js/plugins.js"></script>
  <script src="/itb/public/js/script.js"></script>
  <!-- end scripts -->

  
  <script type="text/javascript">
  $('#generateDD').click(function(){
    var parent = $('#synonymsResults');
    var dd, textNode;
    dd = $(document.createElement('dd'));
    dd.append('textNode');
    parent.append(dd);
    console.log('ajouté');
    return false;
  });
      $("#itbSearch").submit(function(event){

        ajaxGenerator($(this), 'synonyms');
        ajaxGenerator($(this), 'twitter');
        // ajaxGenerator($(this), 'vimeo');
        ajaxGenerator($(this), 'pinterest');
        ajaxGenerator($(this), 'dribbble');
        ajaxGenerator($(this), 'news');

        function ajaxGenerator(form, api){
          var url = "search/"+api;
          var postdata = form.serialize();                

          var request = $.post(
            url,
            postdata,
            formpostcompleted,
            "json"            
          );

          function formpostcompleted(data, status){
            console.log('search on '+api+' : '+status);
            switch(api){
              case 'synonyms':
                synonymsGenerator(data);
                break;
              case 'dribbble':
                imageGenerator(data, api);
                break;
              case 'pinterest':
                imageGenerator(data, api);
                break;
              case 'news':
                newsGenerator(data);
                break;
              case 'twitter':
                twitterGenerator(data);
                break;
              case 'vimeo':
                vimeoGenerator(data);
                break;
              default:
                console.log('impossible de récupérer '+api);
                break;
            }
          }

          function synonymsGenerator(data){
            $('#nbSynonymsResults').append(data.length + ' synonymes trouvés');
            var parent = $(document.createElement('dl'));
            $('#synonymsResults').append(parent);
            var dd;

            for (var i = 0; i < data.length; i++) {
              dd = $(document.createElement('dd'));
              dd.append(data[i]);
              parent.append(dd);
            };
          }

          function twitterGenerator(data){
            $('#nbTwitterResults').append(data.length + ' #tweets trouvés');
            var parent = $('#twitterResults');
            var dl, dd, dt;

            for (var i = 0; i < data.length; i++) {
              dl = $(document.createElement('dl'));
              dt = $(document.createElement('dt'));
              dt.append('> from <a href="#">@'+data[i]['from_user']+'</a>');
              dl.append(dt);
              dd = $(document.createElement('dd'));
              dd.append('<div class="sep"></div>');
              dl.append(dd);
              dd = $(document.createElement('dd'));
              dd.append(data[i]['text']);
              dl.append(dd);
              dd = $(document.createElement('dd'));
              dd.attr('class', 'add');
              dl.append(dd);
              parent.append(dl);
            }
          }

          function vimeoGenerator(data){
            $('#nbVimeoResults').append(data.length + ' vidéos trouvées');
            var parent = $('#vimeoResults');
            var dl, dd, dt;
            
            for (var i = 0; i < data.length; i++) {
              dl = $(document.createElement('dl'));
              dt = $(document.createElement('dt'));
              dt.append('<p><a href="http://vimeo.com/'+data[i]['id']+'">'+data[i]['title']+'</a></p>');
              dl.append(dt);
              dd = $(document.createElement('dd'));
              dd.append('<div class="sep"></div>');
              dl.append(dd);
              dd = $(document.createElement('dd'));
              dd.append('<iframe src="http://player.vimeo.com/video/'+data[i]['id']+'?byline=0&badge=0&color=d01e2f&title=0&portrait=0&" width="400" height="225" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>');
              dl.append(dd);
              dd = $(document.createElement('dd'));
              dd.attr('class', 'add');
              dl.append(dd);
              parent.append(dl);
            }
          }

          function imageGenerator(data, api){
            if(api == 'pinterest'){
              $('#nbPinterestResults').append(data['results'].length + ' pins trouvés');
              var parent = $('#pinterestResults');
            }else if(api == 'dribbble'){
              $('#nbDribbbleResults').append(data['results'].length + ' shots trouvés');
              var parent = $('#dribbbleResults');
            }
            var dl, dd, dt;

            for (var i = 0; i < data['results'].length; i++) {
              dl = $(document.createElement('dl'));
              // if(api == 'dribbble'){
                dt = $(document.createElement('dt'));
                dt.append(data['results'][i]['title']);
                dl.append(dt);
                dd = $(document.createElement('dd'));
                dd.append('<div class="sep"></div>');
                dl.append(dd);
              // }
              dd = $(document.createElement('dd'));
              dd.append('<a href="'+data['results'][i]['full']+'"><img src="'+data['results'][i]['thumbnail']+'" width="100%"></a>');
              dl.append(dd);
              dd = $(document.createElement('dd'));
              dd.attr('class', 'add');
              dl.append(dd);
              parent.append(dl);
            }
          }

          function newsGenerator(data){
            $('#nbNewsResults').append(data.length + ' articles trouvés');
            var parent = $('#newsResults');
            var dl, dd, dt;

            for (var i = 0; i < data.length; i++) {
              dl = $(document.createElement('dl'));
              dt = $(document.createElement('dt'));
              dt.append('<p><a href="'+data[i]['url']+'" target="blank">'+data[i]['title']+'</a></p>');
              dl.append(dt);
              dd = $(document.createElement('dd'));
              dd.append('<div class="sep"></div>');
              dl.append(dd);
              dd = $(document.createElement('dd'));
              dd.append(data[i]['body']);
              dl.append(dd);
              dd = $(document.createElement('dd'));
              dd.attr('class', 'slide');
              dl.append(dd);
              dd = $(document.createElement('dd'));
              dd.attr('class', 'add');
              dl.append(dd);
              parent.append(dl);
            }
          }

        }
        return false;
          });
  </script>
</body>
</html>